'use strict';const _0x7f8284=_0x4edc;function _0x3439(){const _0x3522bf=['YYYY-MM-DD','zxluO','toLocaleString','HH:mm:ss','45899uXJbUY','throw','log','getTrajetoAberto','bt-BR','YYYY-MM-DD\x20HH:mm:ss','dyyoB','toString','18iNMwTm','kciPN','usuario','OqjxA','id_user','../services/per.controllers','value','gwEQW','793895yLfdjk','1062082AxOGXR','data','2953488HixEnO','moment','20KkcvkK','getDateTime','11747329kumqfr','PUczU','bpcDT','done','iQqIj','America/Sao_Paulo','12ibwJXO','pt-br','__esModule','default','apply','gbQjT','hwUDE','./sql.trajeto','6cpGIUF','QOKfp','YkKCZ','mQEir','MEBqe','split','__importDefault','locale','bGrCn','next','date','time','format','165990VPwHtA','vzuoK','hora','900undpqD','getTrajetos','289078xgFiFO','indexOf','finalizarTrajeto','body'];_0x3439=function(){return _0x3522bf;};return _0x3439();}(function(_0x5d5659,_0x108ebf){const _0xf01618=_0x4edc,_0x479d33=_0x5d5659();while(!![]){try{const _0x1ca9b6=parseInt(_0xf01618(0x134))/0x1+-parseInt(_0xf01618(0x14d))/0x2*(-parseInt(_0xf01618(0x161))/0x3)+parseInt(_0xf01618(0x151))/0x4*(parseInt(_0xf01618(0x14c))/0x5)+parseInt(_0xf01618(0x132))/0x6*(-parseInt(_0xf01618(0x13c))/0x7)+-parseInt(_0xf01618(0x14f))/0x8*(-parseInt(_0xf01618(0x144))/0x9)+parseInt(_0xf01618(0x12f))/0xa+parseInt(_0xf01618(0x153))/0xb*(-parseInt(_0xf01618(0x159))/0xc);if(_0x1ca9b6===_0x108ebf)break;else _0x479d33['push'](_0x479d33['shift']());}catch(_0x51faaf){_0x479d33['push'](_0x479d33['shift']());}}}(_0x3439,0xcf299));function _0x4edc(_0x593f7a,_0x513deb){const _0x3439c7=_0x3439();return _0x4edc=function(_0x4edc62,_0x3db78e){_0x4edc62=_0x4edc62-0x124;let _0x3dab83=_0x3439c7[_0x4edc62];return _0x3dab83;},_0x4edc(_0x593f7a,_0x513deb);}var __awaiter=this&&this['__awaiter']||function(_0x2f3708,_0x2e41ea,_0xded9c2,_0x245dce){const _0x41c7ca={'gwEQW':function(_0x467318,_0x4b8bd5){return _0x467318 instanceof _0x4b8bd5;},'OqjxA':function(_0x241f63,_0x44befc){return _0x241f63(_0x44befc);},'QOKfp':function(_0x21d2c0,_0x1a5a1a){return _0x21d2c0(_0x1a5a1a);},'bpcDT':function(_0x5eb246,_0x58ae8a){return _0x5eb246(_0x58ae8a);}};function _0x76849e(_0x1b8200){const _0x3e0f7f=_0x4edc,_0x1caad7={'PUczU':function(_0x47ce3f,_0x40fd6d){return _0x47ce3f(_0x40fd6d);}};return _0x41c7ca[_0x3e0f7f(0x14b)](_0x1b8200,_0xded9c2)?_0x1b8200:new _0xded9c2(function(_0x5655b8){const _0x33ac49=_0x3e0f7f;_0x1caad7[_0x33ac49(0x154)](_0x5655b8,_0x1b8200);});}return new(_0xded9c2||(_0xded9c2=Promise))(function(_0x1108a6,_0x9ef845){const _0x530a67=_0x4edc,_0xe95ac3={'vzuoK':function(_0x4cd40e,_0x476857){const _0x37cbe6=_0x4edc;return _0x41c7ca[_0x37cbe6(0x162)](_0x4cd40e,_0x476857);},'iQqIj':function(_0x3a84e3,_0x4ddf6f){return _0x41c7ca['bpcDT'](_0x3a84e3,_0x4ddf6f);}};function _0x2f498b(_0x44b08c){const _0x2b5112=_0x4edc;try{_0x41c7ca['OqjxA'](_0x15c0ec,_0x245dce['next'](_0x44b08c));}catch(_0x235fc3){_0x41c7ca[_0x2b5112(0x147)](_0x9ef845,_0x235fc3);}}function _0x249792(_0x377fd4){const _0x53d4db=_0x4edc;try{_0xe95ac3[_0x53d4db(0x130)](_0x15c0ec,_0x245dce[_0x53d4db(0x13d)](_0x377fd4));}catch(_0x425d85){_0xe95ac3[_0x53d4db(0x157)](_0x9ef845,_0x425d85);}}function _0x15c0ec(_0x10710d){const _0x114c11=_0x4edc;_0x10710d[_0x114c11(0x156)]?_0x41c7ca[_0x114c11(0x147)](_0x1108a6,_0x10710d[_0x114c11(0x14a)]):_0x41c7ca['QOKfp'](_0x76849e,_0x10710d['value'])['then'](_0x2f498b,_0x249792);}_0x41c7ca[_0x530a67(0x155)](_0x15c0ec,(_0x245dce=_0x245dce[_0x530a67(0x15d)](_0x2f3708,_0x2e41ea||[]))[_0x530a67(0x12b)]());});},__importDefault=this&&this[_0x7f8284(0x128)]||function(_0x30f312){const _0x4299b0=_0x7f8284;return _0x30f312&&_0x30f312[_0x4299b0(0x15b)]?_0x30f312:{'default':_0x30f312};};Object['defineProperty'](exports,_0x7f8284(0x15b),{'value':!![]});const sql_trajeto_1=__importDefault(require(_0x7f8284(0x160))),per_controllers_1=__importDefault(require(_0x7f8284(0x149))),moment_1=__importDefault(require(_0x7f8284(0x150)));moment_1[_0x7f8284(0x15c)][_0x7f8284(0x129)](_0x7f8284(0x15a));const helper={'getDateTime'(){const _0x1bcf40=_0x7f8284,_0x581b5c={'MEBqe':'bt-BR','dyyoB':_0x1bcf40(0x158),'zxluO':function(_0x3a5226,_0x1179fb){return _0x3a5226(_0x1179fb);}},_0x1eff42=new Date()[_0x1bcf40(0x13a)](_0x581b5c[_0x1bcf40(0x126)],{'timeZone':_0x581b5c[_0x1bcf40(0x142)]});let _0xff2dd0=_0x1eff42[_0x1bcf40(0x127)]('\x20')[0x0],_0x888e2a=_0x1eff42[_0x1bcf40(0x127)]('\x20')[0x1],_0x4e1b12=_0x1eff42['split']('\x20')[0x2],_0x3b948b=_0xff2dd0['split']('/');_0xff2dd0=_0x3b948b[0x2]+'/'+_0x3b948b[0x1]+'/'+_0x3b948b[0x0];if(_0x4e1b12=='PM'){let _0x2fd257=[0xd,0xe,0xf,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x0],_0xaa582b=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc],_0x1d9304=_0x888e2a[_0x1bcf40(0x127)](':'),_0x3a7141=_0xaa582b[_0x1bcf40(0x135)](_0x581b5c[_0x1bcf40(0x139)](Number,_0x1d9304[0x0])),_0x343182=_0x2fd257[_0x3a7141];_0x1d9304[0x0]=_0x343182[_0x1bcf40(0x143)](),_0x888e2a=_0x1d9304[0x0]+':'+_0x1d9304[0x1]+':'+_0x1d9304[0x2];}return{'date':_0xff2dd0,'time':_0x888e2a};},'getHora'(){const _0x177d21=_0x7f8284,_0x45ed6b={'kciPN':'bt-BR','hwUDE':_0x177d21(0x158)},_0x2bd328=new Date()[_0x177d21(0x13a)](_0x45ed6b[_0x177d21(0x145)],{'timeZone':_0x45ed6b[_0x177d21(0x15f)]});return(0x0,moment_1[_0x177d21(0x15c)])(_0x2bd328,_0x177d21(0x141))[_0x177d21(0x12e)](_0x177d21(0x13b));},'getDate'(){const _0x42a8df=_0x7f8284,_0x33f9ec={'bGrCn':_0x42a8df(0x140),'mQEir':_0x42a8df(0x158),'YkKCZ':_0x42a8df(0x141),'gbQjT':_0x42a8df(0x138)},_0x5c0378=new Date()[_0x42a8df(0x13a)](_0x33f9ec[_0x42a8df(0x12a)],{'timeZone':_0x33f9ec[_0x42a8df(0x125)]});return(0x0,moment_1[_0x42a8df(0x15c)])(_0x5c0378,_0x33f9ec[_0x42a8df(0x124)])['format'](_0x33f9ec[_0x42a8df(0x15e)]);}};console[_0x7f8284(0x13e)](helper[_0x7f8284(0x152)]());const controllers={'usuario':{},'getTrajetos':_0x552eb7=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x521d98=_0x7f8284;return yield sql_trajeto_1['default'][_0x521d98(0x133)](_0x552eb7[_0x521d98(0x137)]['param']);}),'getTrajetoAberto':_0xe6744a=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1efaaa=_0x7f8284;return yield sql_trajeto_1['default'][_0x1efaaa(0x13f)](controllers[_0x1efaaa(0x146)][_0x1efaaa(0x148)]);}),'iniciaTrajeto'(_0x4086ce){const _0x5276cd={'EtNZh':function(_0x440f5d,_0x15975c,_0xf834c8,_0x4f061e,_0x268541){return _0x440f5d(_0x15975c,_0xf834c8,_0x4f061e,_0x268541);}};return _0x5276cd['EtNZh'](__awaiter,this,void 0x0,void 0x0,function*(){const _0x1da84f=_0x4edc;let {param:_0x31cb36}=_0x4086ce['body'];_0x31cb36[_0x1da84f(0x14e)]=helper[_0x1da84f(0x152)]()[_0x1da84f(0x12c)],_0x31cb36['hora']=helper[_0x1da84f(0x152)]()[_0x1da84f(0x12d)],_0x31cb36[_0x1da84f(0x148)]=controllers[_0x1da84f(0x146)]['id_user'];try{return yield sql_trajeto_1[_0x1da84f(0x15c)]['iniciaTrajeto'](_0x31cb36),{'msg':'ok'};}catch(_0x1dd5a2){return{'error':_0x1dd5a2};}});},'finalizarTrajeto'(_0x562d04){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x302f6f=_0x4edc;let {param:_0x2be310}=_0x562d04[_0x302f6f(0x137)];_0x2be310[_0x302f6f(0x14e)]=helper['getDateTime']()['date'],_0x2be310[_0x302f6f(0x131)]=helper[_0x302f6f(0x152)]()['time'],_0x2be310[_0x302f6f(0x148)]=controllers['usuario'][_0x302f6f(0x148)];try{return yield sql_trajeto_1[_0x302f6f(0x15c)][_0x302f6f(0x136)](_0x2be310),{'msg':'ok'};}catch(_0x4ec9b6){return{'error':_0x4ec9b6};}});}};exports[_0x7f8284(0x15c)]=(_0x50c3f7,_0x429d56,_0x291cc0)=>(0x0,per_controllers_1[_0x7f8284(0x15c)])(_0x50c3f7,_0x429d56,_0x291cc0,controllers);