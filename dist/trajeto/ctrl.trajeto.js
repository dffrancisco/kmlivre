'use strict';function _0x4d6c(){const _0x3876dd=['BZQPi','iwKfL','bt-BR','1368065PwcLrv','220NpaOQm','id_user','../services/per.controllers','iniciaTrajeto','ITyeI','DGyjr','data','NYAft','VToxM','UaosS','2698308SwVXIJ','default','usuario','toLocaleString','__importDefault','toString','YYYY-MM-DD\x20HH:mm:ss','getTrajetoAberto','America/Sao_Paulo','HH:mm:ss','body','MwsOs','date','moment','4PEcQIl','pt-br','rAsDD','done','KowjZ','getRotas','RiYhk','apply','__awaiter','__esModule','format','./sql.trajeto','1132642VqlbfR','28533eurhKz','YYYY-MM-DD','split','BiQLJ','finalizarTrajeto','throw','5685176OQGfdL','DpgMN','mkbdQ','hora','zebMI','mFuTh','then','58gDtdaW','getDateTime','YjFZd','216441cvydYa','indexOf','value','1478442vUCwFd'];_0x4d6c=function(){return _0x3876dd;};return _0x4d6c();}const _0x3be10c=_0x59ba;(function(_0x1d3bb9,_0x2e4efe){const _0xc7a4f6=_0x59ba,_0x4b33bc=_0x1d3bb9();while(!![]){try{const _0x462503=-parseInt(_0xc7a4f6(0x101))/0x1*(parseInt(_0xc7a4f6(0x10e))/0x2)+parseInt(_0xc7a4f6(0x114))/0x3*(-parseInt(_0xc7a4f6(0xf4))/0x4)+parseInt(_0xc7a4f6(0x118))/0x5+parseInt(_0xc7a4f6(0xe6))/0x6+-parseInt(_0xc7a4f6(0x100))/0x7+parseInt(_0xc7a4f6(0x107))/0x8+parseInt(_0xc7a4f6(0x111))/0x9*(parseInt(_0xc7a4f6(0x119))/0xa);if(_0x462503===_0x2e4efe)break;else _0x4b33bc['push'](_0x4b33bc['shift']());}catch(_0xa84d9a){_0x4b33bc['push'](_0x4b33bc['shift']());}}}(_0x4d6c,0x756d3));var __awaiter=this&&this[_0x3be10c(0xfc)]||function(_0x4be9b5,_0x33bd7c,_0x3b8163,_0x1d7ebd){const _0x1f6647={'DGyjr':function(_0x5c6f86,_0x4f8608){return _0x5c6f86 instanceof _0x4f8608;},'djylG':function(_0x58b075,_0x3cb087){return _0x58b075(_0x3cb087);},'LvzXp':function(_0x2ce111,_0x1be07c){return _0x2ce111(_0x1be07c);},'VToxM':function(_0x2965ab,_0x31b8e5){return _0x2965ab(_0x31b8e5);}};function _0x51fd89(_0x4b47bc){const _0x4230fb=_0x59ba,_0x26e3da={'FQkSj':function(_0xf3e86a,_0x47137b){return _0xf3e86a(_0x47137b);}};return _0x1f6647[_0x4230fb(0x11e)](_0x4b47bc,_0x3b8163)?_0x4b47bc:new _0x3b8163(function(_0x2b4744){_0x26e3da['FQkSj'](_0x2b4744,_0x4b47bc);});}return new(_0x3b8163||(_0x3b8163=Promise))(function(_0x4ae074,_0x898699){const _0x2b61fb=_0x59ba,_0x46af7d={'UaosS':function(_0xf65ddf,_0x17c89d){return _0x1f6647['LvzXp'](_0xf65ddf,_0x17c89d);},'mkbdQ':function(_0x1dccde,_0x23b689){const _0x28c678=_0x59ba;return _0x1f6647[_0x28c678(0xe4)](_0x1dccde,_0x23b689);}};function _0x4902f4(_0xe49869){const _0x291322=_0x59ba;try{_0x46af7d[_0x291322(0xe5)](_0x4e3c70,_0x1d7ebd['next'](_0xe49869));}catch(_0x20c89a){_0x46af7d[_0x291322(0x109)](_0x898699,_0x20c89a);}}function _0x42a867(_0x3d9e2f){const _0x3ddc84=_0x59ba;try{_0x4e3c70(_0x1d7ebd[_0x3ddc84(0x106)](_0x3d9e2f));}catch(_0x3ec37c){_0x1f6647['djylG'](_0x898699,_0x3ec37c);}}function _0x4e3c70(_0x334b4c){const _0x2dd147=_0x59ba;_0x334b4c[_0x2dd147(0xf7)]?_0x4ae074(_0x334b4c['value']):_0x46af7d[_0x2dd147(0x109)](_0x51fd89,_0x334b4c[_0x2dd147(0x113)])[_0x2dd147(0x10d)](_0x4902f4,_0x42a867);}_0x1f6647[_0x2b61fb(0xe4)](_0x4e3c70,(_0x1d7ebd=_0x1d7ebd[_0x2b61fb(0xfb)](_0x4be9b5,_0x33bd7c||[]))['next']());});},__importDefault=this&&this[_0x3be10c(0xea)]||function(_0xfb062b){return _0xfb062b&&_0xfb062b['__esModule']?_0xfb062b:{'default':_0xfb062b};};Object['defineProperty'](exports,_0x3be10c(0xfd),{'value':!![]});function _0x59ba(_0x25a92e,_0x4ce0bc){const _0x4d6c99=_0x4d6c();return _0x59ba=function(_0x59ba1f,_0xafaa9b){_0x59ba1f=_0x59ba1f-0xe3;let _0x563d54=_0x4d6c99[_0x59ba1f];return _0x563d54;},_0x59ba(_0x25a92e,_0x4ce0bc);}const sql_trajeto_1=__importDefault(require(_0x3be10c(0xff))),per_controllers_1=__importDefault(require(_0x3be10c(0x11b))),moment_1=__importDefault(require(_0x3be10c(0xf3))),nDate=new Date()[_0x3be10c(0xe9)](_0x3be10c(0x117),{'timeZone':'America/Sao_Paulo'});moment_1[_0x3be10c(0xe7)]['locale'](_0x3be10c(0xf5));const helper={'getDateTime'(){const _0x2aa04a=_0x3be10c,_0x7ccd26={'rAsDD':_0x2aa04a(0x117),'BiQLJ':_0x2aa04a(0xee),'NYAft':function(_0x2833c5,_0x2ae790){return _0x2833c5>_0x2ae790;},'mFuTh':function(_0x258980,_0x4a5cf2){return _0x258980==_0x4a5cf2;},'ITyeI':function(_0x294c9f,_0xbc61dd){return _0x294c9f(_0xbc61dd);}},_0x36b144=new Date()[_0x2aa04a(0xe9)](_0x7ccd26[_0x2aa04a(0xf6)],{'timeZone':_0x7ccd26[_0x2aa04a(0x104)]});let _0x304ec8=_0x36b144[_0x2aa04a(0x103)]('\x20')[0x0],_0x1e6cf0=_0x36b144[_0x2aa04a(0x103)]('\x20')[0x1],_0x540b88=_0x36b144[_0x2aa04a(0x103)]('\x20')[0x2],_0x3613b5=_0x304ec8[_0x2aa04a(0x103)]('/');if(_0x7ccd26[_0x2aa04a(0xe3)](_0x3613b5[0x2][_0x2aa04a(0x112)](','),0x0))_0x304ec8=_0x3613b5[0x2]['replace'](',','')+'/'+_0x3613b5[0x0]+'/'+_0x3613b5[0x1];else _0x304ec8=_0x3613b5[0x2]+'/'+_0x3613b5[0x1]+'/'+_0x3613b5[0x0];if(_0x7ccd26[_0x2aa04a(0x10c)](_0x540b88,'PM')){let _0x3413f4=[0xd,0xe,0xf,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x0],_0x5c7c78=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc],_0x5e6ba8=_0x1e6cf0[_0x2aa04a(0x103)](':'),_0x4f4eda=_0x5c7c78[_0x2aa04a(0x112)](_0x7ccd26[_0x2aa04a(0x11d)](Number,_0x5e6ba8[0x0])),_0x1ea7b6=_0x3413f4[_0x4f4eda];_0x5e6ba8[0x0]=_0x1ea7b6[_0x2aa04a(0xeb)](),_0x1e6cf0=_0x5e6ba8[0x0]+':'+_0x5e6ba8[0x1]+':'+_0x5e6ba8[0x2];}return{'date':_0x304ec8,'time':_0x1e6cf0};},'getHora'(){const _0x29b5a9=_0x3be10c,_0x131558={'twhbn':_0x29b5a9(0x117),'MwsOs':_0x29b5a9(0xee),'BZQPi':_0x29b5a9(0xec),'zebMI':_0x29b5a9(0xef)},_0x218fe3=new Date()['toLocaleString'](_0x131558['twhbn'],{'timeZone':_0x131558[_0x29b5a9(0xf1)]});return(0x0,moment_1['default'])(_0x218fe3,_0x131558[_0x29b5a9(0x115)])[_0x29b5a9(0xfe)](_0x131558[_0x29b5a9(0x10b)]);},'getDate'(){const _0x59f3b1=_0x3be10c,_0x4f2822={'YjFZd':_0x59f3b1(0xee),'iwKfL':_0x59f3b1(0xec),'KowjZ':_0x59f3b1(0x102)},_0x38a645=new Date()[_0x59f3b1(0xe9)](_0x59f3b1(0x117),{'timeZone':_0x4f2822[_0x59f3b1(0x110)]});return(0x0,moment_1[_0x59f3b1(0xe7)])(_0x38a645,_0x4f2822[_0x59f3b1(0x116)])['format'](_0x4f2822[_0x59f3b1(0xf8)]);}},controllers={'usuario':{},'getRotas':_0x15687f=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x416a33=_0x3be10c;return yield sql_trajeto_1[_0x416a33(0xe7)][_0x416a33(0xf9)]({'id_user':controllers[_0x416a33(0xe8)][_0x416a33(0x11a)]});}),'getTrajetoAberto':_0x2d6d71=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4210c2=_0x3be10c;return yield sql_trajeto_1[_0x4210c2(0xe7)][_0x4210c2(0xed)](controllers[_0x4210c2(0xe8)]['id_user']);}),'iniciaTrajeto'(_0x4b681c){const _0x2a8d82={'JFIZv':function(_0x577d61,_0x1fb027,_0xddd928,_0x19d917,_0x54938a){return _0x577d61(_0x1fb027,_0xddd928,_0x19d917,_0x54938a);}};return _0x2a8d82['JFIZv'](__awaiter,this,void 0x0,void 0x0,function*(){const _0x19761e=_0x59ba;let {param:_0x15f2d0}=_0x4b681c[_0x19761e(0xf0)];_0x15f2d0['data']=helper[_0x19761e(0x10f)]()['date'],_0x15f2d0[_0x19761e(0x10a)]=helper[_0x19761e(0x10f)]()['time'],_0x15f2d0['id_user']=controllers['usuario'][_0x19761e(0x11a)];try{return yield sql_trajeto_1[_0x19761e(0xe7)][_0x19761e(0x11c)](_0x15f2d0),{'msg':'ok'};}catch(_0x3cbf45){return{'error':_0x3cbf45};}});},'finalizarTrajeto'(_0x226495){const _0x31487e=_0x3be10c,_0x219d4f={'DpgMN':function(_0x1d8e63,_0x230e43,_0x425016,_0x23c470,_0x4e5a53){return _0x1d8e63(_0x230e43,_0x425016,_0x23c470,_0x4e5a53);}};return _0x219d4f[_0x31487e(0x108)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x48e164=_0x31487e;let {param:_0xf4e5fc}=_0x226495[_0x48e164(0xf0)];_0xf4e5fc[_0x48e164(0x11f)]=helper['getDateTime']()[_0x48e164(0xf2)],_0xf4e5fc['hora']=helper['getDateTime']()['time'],_0xf4e5fc[_0x48e164(0x11a)]=controllers[_0x48e164(0xe8)][_0x48e164(0x11a)];try{return yield sql_trajeto_1[_0x48e164(0xe7)][_0x48e164(0x105)](_0xf4e5fc),{'msg':'ok'};}catch(_0x17ecdd){return{'error':_0x17ecdd};}});},'getUltimoTrajeto'(){const _0x4caf53=_0x3be10c,_0xf5f172={'RiYhk':function(_0x57976e,_0x5e620f,_0x1a95a7,_0x2ae0a9,_0x1ec40c){return _0x57976e(_0x5e620f,_0x1a95a7,_0x2ae0a9,_0x1ec40c);}};return _0xf5f172[_0x4caf53(0xfa)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x3cfe61=_0x4caf53;return yield sql_trajeto_1[_0x3cfe61(0xe7)]['getUltimoTrajeto']({'id_user':controllers['usuario'][_0x3cfe61(0x11a)]});});}};exports['default']=(_0x489847,_0x90c2da,_0x5ed92f)=>(0x0,per_controllers_1[_0x3be10c(0xe7)])(_0x489847,_0x90c2da,_0x5ed92f,controllers);