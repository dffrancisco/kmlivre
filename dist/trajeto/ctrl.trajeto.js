'use strict';function _0x4e39(){const _0x444f03=['eLgmv','default','YYYY-MM-DD','141147WJmRsd','23327iWmRdW','YYYY-MM-DD\x20HH:mm:ss','664328GYxPAi','param','__awaiter','ioxCS','Chvpx','time','783909nXGyZr','finalizarTrajeto','usuario','America/Sao_Paulo','iRPXQ','date','2466006yaBVnS','hCxca','lPYEM','hora','throw','RTVjm','60TLIflZ','body','getDateTime','split','iniciaTrajeto','apply','id_user','wzJtp','bt-BR','getTrajetos','7XRoXxP','format','replace','87888uBkAFR','aBjLz','250aexoyT','locale','547327auguxI','log','HQUbQ','iYuUr','YsUKx','mFLwj','26oAJvkA','toString','HH:mm:ss','data','MSeba','next','__importDefault','defineProperty','then','pt-br'];_0x4e39=function(){return _0x444f03;};return _0x4e39();}const _0x1447dd=_0x2e11;(function(_0x535cc5,_0x19ec88){const _0x4e5b02=_0x2e11,_0x1496ac=_0x535cc5();while(!![]){try{const _0x3f35bb=parseInt(_0x4e5b02(0x1df))/0x1*(-parseInt(_0x4e5b02(0x1d1))/0x2)+-parseInt(_0x4e5b02(0x1de))/0x3+parseInt(_0x4e5b02(0x200))/0x4*(-parseInt(_0x4e5b02(0x1f3))/0x5)+parseInt(_0x4e5b02(0x1ed))/0x6*(-parseInt(_0x4e5b02(0x1fd))/0x7)+parseInt(_0x4e5b02(0x1e1))/0x8+-parseInt(_0x4e5b02(0x1e7))/0x9+-parseInt(_0x4e5b02(0x202))/0xa*(-parseInt(_0x4e5b02(0x204))/0xb);if(_0x3f35bb===_0x19ec88)break;else _0x1496ac['push'](_0x1496ac['shift']());}catch(_0x2cc041){_0x1496ac['push'](_0x1496ac['shift']());}}}(_0x4e39,0x34774));var __awaiter=this&&this[_0x1447dd(0x1e3)]||function(_0xdd6d6b,_0x5d4484,_0x516ddd,_0x322bd8){const _0x472568=_0x1447dd,_0x3a854b={'aBjLz':function(_0x28bde5,_0x5a57f6){return _0x28bde5(_0x5a57f6);},'aSmMP':function(_0x2f9e82,_0x1d5041){return _0x2f9e82 instanceof _0x1d5041;},'iYuUr':function(_0x1f44e4,_0x24b1ab){return _0x1f44e4(_0x24b1ab);},'RTVjm':_0x472568(0x1f1),'lPYEM':function(_0x43c6a3,_0xd6588d){return _0x43c6a3(_0xd6588d);}};function _0x1d7d67(_0x182324){return _0x3a854b['aSmMP'](_0x182324,_0x516ddd)?_0x182324:new _0x516ddd(function(_0x2f7ba1){const _0x23118b=_0x2e11;_0x3a854b[_0x23118b(0x201)](_0x2f7ba1,_0x182324);});}return new(_0x516ddd||(_0x516ddd=Promise))(function(_0x4e746b,_0x2c6c24){const _0x20d3db=_0x472568,_0x3c1a12={'YsUKx':function(_0x18db31,_0xe4f49a){const _0x16ad90=_0x2e11;return _0x3a854b[_0x16ad90(0x207)](_0x18db31,_0xe4f49a);},'ioxCS':_0x3a854b[_0x20d3db(0x1f2)]};function _0xbd4181(_0x58af36){const _0x31344a=_0x20d3db;try{_0x3c1a12[_0x31344a(0x208)](_0x526933,_0x322bd8['next'](_0x58af36));}catch(_0x45a7e2){_0x3c1a12[_0x31344a(0x208)](_0x2c6c24,_0x45a7e2);}}function _0x10fcaf(_0x482a0b){const _0x22befb=_0x20d3db;try{_0x526933(_0x322bd8[_0x3c1a12[_0x22befb(0x1e4)]](_0x482a0b));}catch(_0x42241a){_0x3c1a12[_0x22befb(0x208)](_0x2c6c24,_0x42241a);}}function _0x526933(_0x5939f9){const _0x2ec254=_0x20d3db;_0x5939f9['done']?_0x3a854b[_0x2ec254(0x201)](_0x4e746b,_0x5939f9['value']):_0x3a854b['iYuUr'](_0x1d7d67,_0x5939f9['value'])[_0x2ec254(0x1d9)](_0xbd4181,_0x10fcaf);}_0x3a854b[_0x20d3db(0x1ef)](_0x526933,(_0x322bd8=_0x322bd8[_0x20d3db(0x1f8)](_0xdd6d6b,_0x5d4484||[]))[_0x20d3db(0x1d6)]());});},__importDefault=this&&this[_0x1447dd(0x1d7)]||function(_0x16f760){return _0x16f760&&_0x16f760['__esModule']?_0x16f760:{'default':_0x16f760};};Object[_0x1447dd(0x1d8)](exports,'__esModule',{'value':!![]});const sql_trajeto_1=__importDefault(require('./sql.trajeto')),per_controllers_1=__importDefault(require('../services/per.controllers')),moment_1=__importDefault(require('moment'));moment_1[_0x1447dd(0x1dc)][_0x1447dd(0x203)](_0x1447dd(0x1da));const helper={'getDateTime'(){const _0x137273=_0x1447dd,_0x135051={'iRPXQ':_0x137273(0x1fb),'ACxyl':function(_0x2778c4,_0x47715f){return _0x2778c4>_0x47715f;},'xnsCC':function(_0x289632,_0x74bc7c){return _0x289632==_0x74bc7c;},'wzJtp':function(_0x25342e,_0x39fd28){return _0x25342e(_0x39fd28);}},_0x3e1ec1=new Date()['toLocaleString'](_0x135051[_0x137273(0x1eb)],{'timeZone':_0x137273(0x1ea)});let _0x12bc88=_0x3e1ec1[_0x137273(0x1f6)]('\x20')[0x0],_0x3d31e8=_0x3e1ec1['split']('\x20')[0x1],_0x572f15=_0x3e1ec1[_0x137273(0x1f6)]('\x20')[0x2],_0x17c235=_0x12bc88[_0x137273(0x1f6)]('/');if(_0x135051['ACxyl'](_0x17c235[0x2]['indexOf'](','),0x0))_0x12bc88=_0x17c235[0x2][_0x137273(0x1ff)](',','')+'/'+_0x17c235[0x0]+'/'+_0x17c235[0x1];else _0x12bc88=_0x17c235[0x2]+'/'+_0x17c235[0x1]+'/'+_0x17c235[0x0];console[_0x137273(0x205)](_0x3e1ec1,_0x12bc88,_0x3d31e8,_0x572f15,_0x17c235);if(_0x135051['xnsCC'](_0x572f15,'PM')){let _0xd71bab=[0xd,0xe,0xf,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x0],_0xb5ccc2=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc],_0x1312ee=_0x3d31e8[_0x137273(0x1f6)](':'),_0x116a57=_0xb5ccc2['indexOf'](_0x135051[_0x137273(0x1fa)](Number,_0x1312ee[0x0])),_0x28b1ea=_0xd71bab[_0x116a57];_0x1312ee[0x0]=_0x28b1ea[_0x137273(0x1d2)](),_0x3d31e8=_0x1312ee[0x0]+':'+_0x1312ee[0x1]+':'+_0x1312ee[0x2];}return{'date':_0x12bc88,'time':_0x3d31e8};},'getHora'(){const _0x140dbc=_0x1447dd,_0x2c0113={'kQtBm':_0x140dbc(0x1ea),'mFLwj':_0x140dbc(0x1e0),'HQUbQ':_0x140dbc(0x1d3)},_0x141579=new Date()['toLocaleString'](_0x140dbc(0x1fb),{'timeZone':_0x2c0113['kQtBm']});return(0x0,moment_1[_0x140dbc(0x1dc)])(_0x141579,_0x2c0113[_0x140dbc(0x1d0)])[_0x140dbc(0x1fe)](_0x2c0113[_0x140dbc(0x206)]);},'getDate'(){const _0x1fd3eb=_0x1447dd,_0x2fb1a2={'eLgmv':_0x1fd3eb(0x1fb),'IWKtP':_0x1fd3eb(0x1ea),'kRJoK':_0x1fd3eb(0x1e0),'Chvpx':_0x1fd3eb(0x1dd)},_0x104e77=new Date()['toLocaleString'](_0x2fb1a2[_0x1fd3eb(0x1db)],{'timeZone':_0x2fb1a2['IWKtP']});return(0x0,moment_1['default'])(_0x104e77,_0x2fb1a2['kRJoK'])[_0x1fd3eb(0x1fe)](_0x2fb1a2[_0x1fd3eb(0x1e5)]);}};console[_0x1447dd(0x205)](helper['getDateTime']());const controllers={'usuario':{},'getTrajetos':_0x27cc99=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x238ed=_0x1447dd;return yield sql_trajeto_1[_0x238ed(0x1dc)][_0x238ed(0x1fc)](_0x27cc99[_0x238ed(0x1f4)][_0x238ed(0x1e2)]);}),'getTrajetoAberto':_0x2f4e8d=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x2e7f73=_0x1447dd;return yield sql_trajeto_1[_0x2e7f73(0x1dc)]['getTrajetoAberto'](controllers['usuario'][_0x2e7f73(0x1f9)]);}),'iniciaTrajeto'(_0x8c3ae1){const _0x5c9b77=_0x1447dd,_0x2fd08d={'MSeba':function(_0x591c26,_0xd4a9b8,_0x422af9,_0x318531,_0x883260){return _0x591c26(_0xd4a9b8,_0x422af9,_0x318531,_0x883260);}};return _0x2fd08d[_0x5c9b77(0x1d5)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x5c0f5f=_0x5c9b77;let {param:_0x159c4d}=_0x8c3ae1['body'];_0x159c4d[_0x5c0f5f(0x1d4)]=helper[_0x5c0f5f(0x1f5)]()['date'],_0x159c4d[_0x5c0f5f(0x1f0)]=helper[_0x5c0f5f(0x1f5)]()['time'],_0x159c4d[_0x5c0f5f(0x1f9)]=controllers[_0x5c0f5f(0x1e9)][_0x5c0f5f(0x1f9)];try{return yield sql_trajeto_1[_0x5c0f5f(0x1dc)][_0x5c0f5f(0x1f7)](_0x159c4d),{'msg':'ok'};}catch(_0x262480){return{'error':_0x262480};}});},'finalizarTrajeto'(_0x3097e2){const _0x454366=_0x1447dd,_0x3a19e6={'hCxca':function(_0x596811,_0x271e8e,_0x460578,_0x5416ee,_0x4601ed){return _0x596811(_0x271e8e,_0x460578,_0x5416ee,_0x4601ed);}};return _0x3a19e6[_0x454366(0x1ee)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x383131=_0x454366;let {param:_0x36aa2c}=_0x3097e2[_0x383131(0x1f4)];_0x36aa2c[_0x383131(0x1d4)]=helper[_0x383131(0x1f5)]()[_0x383131(0x1ec)],_0x36aa2c[_0x383131(0x1f0)]=helper[_0x383131(0x1f5)]()[_0x383131(0x1e6)],_0x36aa2c['id_user']=controllers[_0x383131(0x1e9)][_0x383131(0x1f9)];try{return yield sql_trajeto_1['default'][_0x383131(0x1e8)](_0x36aa2c),{'msg':'ok'};}catch(_0x39f597){return{'error':_0x39f597};}});}};function _0x2e11(_0xc2a4f5,_0x3b422a){const _0x4e3941=_0x4e39();return _0x2e11=function(_0x2e11fc,_0x49bd90){_0x2e11fc=_0x2e11fc-0x1d0;let _0x2be3c0=_0x4e3941[_0x2e11fc];return _0x2be3c0;},_0x2e11(_0xc2a4f5,_0x3b422a);}exports[_0x1447dd(0x1dc)]=(_0x3b1885,_0x18f012,_0xa08e7e)=>(0x0,per_controllers_1['default'])(_0x3b1885,_0x18f012,_0xa08e7e,controllers);