'use strict';const _0x470f55=_0x24a7;(function(_0xa4f522,_0x50f369){const _0x4d1d84=_0x24a7,_0x1b78aa=_0xa4f522();while(!![]){try{const _0x3fc993=-parseInt(_0x4d1d84(0x15c))/0x1*(parseInt(_0x4d1d84(0x171))/0x2)+-parseInt(_0x4d1d84(0x15e))/0x3+parseInt(_0x4d1d84(0x172))/0x4+parseInt(_0x4d1d84(0x16a))/0x5+parseInt(_0x4d1d84(0x143))/0x6+parseInt(_0x4d1d84(0x15a))/0x7*(-parseInt(_0x4d1d84(0x166))/0x8)+-parseInt(_0x4d1d84(0x14e))/0x9;if(_0x3fc993===_0x50f369)break;else _0x1b78aa['push'](_0x1b78aa['shift']());}catch(_0x210868){_0x1b78aa['push'](_0x1b78aa['shift']());}}}(_0x2518,0x9ba07));var __awaiter=this&&this[_0x470f55(0x164)]||function(_0x315f6b,_0x250d16,_0x23cbf2,_0x441f06){const _0x49fc8d={'nuHnt':function(_0xdefc40,_0x416893){return _0xdefc40 instanceof _0x416893;},'OPJNW':function(_0x54e818,_0xf07828){return _0x54e818(_0xf07828);},'uMYPQ':'throw','uQZGZ':function(_0x484ed9,_0x13a2e7){return _0x484ed9(_0x13a2e7);},'jCCyP':function(_0x1c605a,_0x1a4782){return _0x1c605a(_0x1a4782);}};function _0x46d050(_0x5a730f){const _0x454660=_0x24a7;return _0x49fc8d[_0x454660(0x167)](_0x5a730f,_0x23cbf2)?_0x5a730f:new _0x23cbf2(function(_0x3f3c8c){_0x3f3c8c(_0x5a730f);});}return new(_0x23cbf2||(_0x23cbf2=Promise))(function(_0x5625ea,_0x3aacbe){const _0xa6982e=_0x24a7;function _0x2325db(_0x22296b){const _0x239621=_0x24a7;try{_0x388459(_0x441f06[_0x239621(0x14d)](_0x22296b));}catch(_0x130447){_0x49fc8d['OPJNW'](_0x3aacbe,_0x130447);}}function _0x1e05d5(_0x4eeff6){const _0x2e7023=_0x24a7;try{_0x49fc8d[_0x2e7023(0x161)](_0x388459,_0x441f06[_0x49fc8d[_0x2e7023(0x14a)]](_0x4eeff6));}catch(_0x1dcfa1){_0x49fc8d[_0x2e7023(0x161)](_0x3aacbe,_0x1dcfa1);}}function _0x388459(_0x86a577){const _0x51b71c=_0x24a7;_0x86a577['done']?_0x49fc8d[_0x51b71c(0x158)](_0x5625ea,_0x86a577[_0x51b71c(0x13f)]):_0x49fc8d['uQZGZ'](_0x46d050,_0x86a577[_0x51b71c(0x13f)])[_0x51b71c(0x13d)](_0x2325db,_0x1e05d5);}_0x49fc8d['jCCyP'](_0x388459,(_0x441f06=_0x441f06[_0xa6982e(0x15f)](_0x315f6b,_0x250d16||[]))[_0xa6982e(0x14d)]());});},__importDefault=this&&this['__importDefault']||function(_0x3b6ba4){return _0x3b6ba4&&_0x3b6ba4['__esModule']?_0x3b6ba4:{'default':_0x3b6ba4};};Object[_0x470f55(0x15b)](exports,_0x470f55(0x173),{'value':!![]});const sql_trajeto_1=__importDefault(require(_0x470f55(0x153))),per_controllers_1=__importDefault(require(_0x470f55(0x147))),moment_1=__importDefault(require(_0x470f55(0x15d)));moment_1[_0x470f55(0x148)]['locale'](_0x470f55(0x154));const helper={'getDateTime'(){const _0x1d8eed=_0x470f55,_0x2d0db3={'RAIGA':_0x1d8eed(0x16e),'bADSp':function(_0x1aea2d,_0x4e4b64){return _0x1aea2d>_0x4e4b64;},'KNxPO':function(_0x40bac9,_0x100ece){return _0x40bac9(_0x100ece);}},_0x48b883=new Date()[_0x1d8eed(0x159)]('bt-BR',{'timeZone':_0x2d0db3[_0x1d8eed(0x14f)]});let _0x59590c=_0x48b883[_0x1d8eed(0x16b)]('\x20')[0x0],_0x73c4f0=_0x48b883[_0x1d8eed(0x16b)]('\x20')[0x1],_0x529acf=_0x48b883[_0x1d8eed(0x16b)]('\x20')[0x2],_0x1bd222=_0x59590c[_0x1d8eed(0x16b)]('/');if(_0x2d0db3[_0x1d8eed(0x142)](_0x1bd222[0x2][_0x1d8eed(0x150)](','),0x0))_0x59590c=_0x1bd222[0x2][_0x1d8eed(0x169)](',','')+'/'+_0x1bd222[0x0]+'/'+_0x1bd222[0x1];else _0x59590c=_0x1bd222[0x2]+'/'+_0x1bd222[0x1]+'/'+_0x1bd222[0x0];if(_0x529acf=='PM'){let _0xb5bb1d=[0xd,0xe,0xf,0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x0],_0x5da8e0=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9,0xa,0xb,0xc],_0x5ce0b3=_0x73c4f0[_0x1d8eed(0x16b)](':'),_0x254cff=_0x5da8e0[_0x1d8eed(0x150)](_0x2d0db3[_0x1d8eed(0x165)](Number,_0x5ce0b3[0x0])),_0x5b66c6=_0xb5bb1d[_0x254cff];_0x5ce0b3[0x0]=_0x5b66c6['toString'](),_0x73c4f0=_0x5ce0b3[0x0]+':'+_0x5ce0b3[0x1]+':'+_0x5ce0b3[0x2];}return{'date':_0x59590c,'time':_0x73c4f0};},'getHora'(){const _0x52614a=_0x470f55,_0x1437b8={'yKJVW':_0x52614a(0x144),'uGpFz':_0x52614a(0x16e),'wwWKG':_0x52614a(0x16c)},_0x28a4fa=new Date()['toLocaleString'](_0x1437b8['yKJVW'],{'timeZone':_0x1437b8[_0x52614a(0x13e)]});return(0x0,moment_1[_0x52614a(0x148)])(_0x28a4fa,_0x52614a(0x151))[_0x52614a(0x14c)](_0x1437b8[_0x52614a(0x168)]);},'getDate'(){const _0x27a70d=_0x470f55,_0x1cb488={'zejpJ':_0x27a70d(0x144),'aBpAe':'America/Sao_Paulo','qkJor':_0x27a70d(0x151),'nMUDL':_0x27a70d(0x16f)},_0x5c39d0=new Date()['toLocaleString'](_0x1cb488['zejpJ'],{'timeZone':_0x1cb488[_0x27a70d(0x14b)]});return(0x0,moment_1[_0x27a70d(0x148)])(_0x5c39d0,_0x1cb488['qkJor'])['format'](_0x1cb488[_0x27a70d(0x160)]);}};console[_0x470f55(0x141)](helper['getDateTime']());const controllers={'usuario':{},'getTrajetos':_0x2e2c5b=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x33c755=_0x470f55;return yield sql_trajeto_1[_0x33c755(0x148)][_0x33c755(0x16d)](_0x2e2c5b[_0x33c755(0x170)][_0x33c755(0x156)]);}),'getTrajetoAberto':_0x12b10f=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xc6e860=_0x470f55;return yield sql_trajeto_1[_0xc6e860(0x148)][_0xc6e860(0x163)](controllers[_0xc6e860(0x145)][_0xc6e860(0x157)]);}),'iniciaTrajeto'(_0x3e6538){const _0x21e4cf=_0x470f55,_0x4de0c8={'KFjAC':function(_0x9f8586,_0x5b559a,_0x34d4ee,_0x55db46,_0x33132b){return _0x9f8586(_0x5b559a,_0x34d4ee,_0x55db46,_0x33132b);}};return _0x4de0c8[_0x21e4cf(0x155)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x56100f=_0x21e4cf;let {param:_0x3fc657}=_0x3e6538[_0x56100f(0x170)];_0x3fc657['data']=helper[_0x56100f(0x162)]()[_0x56100f(0x152)],_0x3fc657[_0x56100f(0x149)]=helper[_0x56100f(0x162)]()['time'],_0x3fc657[_0x56100f(0x157)]=controllers['usuario']['id_user'];try{return yield sql_trajeto_1[_0x56100f(0x148)][_0x56100f(0x174)](_0x3fc657),{'msg':'ok'};}catch(_0x1bc5c6){return{'error':_0x1bc5c6};}});},'finalizarTrajeto'(_0x569ab8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x34de11=_0x24a7;let {param:_0x19b850}=_0x569ab8[_0x34de11(0x170)];_0x19b850[_0x34de11(0x146)]=helper[_0x34de11(0x162)]()[_0x34de11(0x152)],_0x19b850['hora']=helper[_0x34de11(0x162)]()[_0x34de11(0x140)],_0x19b850[_0x34de11(0x157)]=controllers[_0x34de11(0x145)][_0x34de11(0x157)];try{return yield sql_trajeto_1['default']['finalizarTrajeto'](_0x19b850),{'msg':'ok'};}catch(_0x3ac7ad){return{'error':_0x3ac7ad};}});},'getUltimoTrajeto'(){const _0x34e9c5={'VWtcn':function(_0x10e880,_0x3761c1,_0x441c41,_0x597e48,_0x50e082){return _0x10e880(_0x3761c1,_0x441c41,_0x597e48,_0x50e082);}};return _0x34e9c5['VWtcn'](__awaiter,this,void 0x0,void 0x0,function*(){const _0x4e71c6=_0x24a7;return yield sql_trajeto_1[_0x4e71c6(0x148)]['getUltimoTrajeto']({'id_user':controllers[_0x4e71c6(0x145)][_0x4e71c6(0x157)]});});}};function _0x24a7(_0xc63d1,_0x4a344b){const _0x251892=_0x2518();return _0x24a7=function(_0x24a713,_0x354cf1){_0x24a713=_0x24a713-0x13d;let _0xd3a99c=_0x251892[_0x24a713];return _0xd3a99c;},_0x24a7(_0xc63d1,_0x4a344b);}exports[_0x470f55(0x148)]=(_0x341b50,_0x2c7026,_0x568c2a)=>(0x0,per_controllers_1[_0x470f55(0x148)])(_0x341b50,_0x2c7026,_0x568c2a,controllers);function _0x2518(){const _0x3b78cc=['nuHnt','wwWKG','replace','2049570CPcgnA','split','HH:mm:ss','getTrajetos','America/Sao_Paulo','YYYY-MM-DD','body','21944nGSbXr','2858392arhLBB','__esModule','iniciaTrajeto','then','uGpFz','value','time','log','bADSp','5753604afEYbj','bt-BR','usuario','data','../services/per.controllers','default','hora','uMYPQ','aBpAe','format','next','2526300orCaMM','RAIGA','indexOf','YYYY-MM-DD\x20HH:mm:ss','date','./sql.trajeto','pt-br','KFjAC','param','id_user','uQZGZ','toLocaleString','7slthlL','defineProperty','1IKtnZQ','moment','2141289kpScOj','apply','nMUDL','OPJNW','getDateTime','getTrajetoAberto','__awaiter','KNxPO','3524512tuuCsZ'];_0x2518=function(){return _0x3b78cc;};return _0x2518();}